---
import Header from '../../src/components/Header.astro';
import Footer from '../../src/components/Footer.astro';

// Récupérer les paramètres d'URL pour afficher les messages
const errorMessage = Astro.url.searchParams.get('error');
const successMessage = Astro.url.searchParams.get('success') ? 'Compte créé avec succès !' : null;
---

<Header/>

<h1>Créer un compte</h1>

{errorMessage && (
    <div style="color: red; background: #ffebee; padding: 10px; margin: 10px 0; border-radius: 4px;">
        Erreur: {errorMessage}
    </div>
)}

{successMessage && (
    <div style="color: green; background: #e8f5e8; padding: 10px; margin: 10px 0; border-radius: 4px;">
        {successMessage}
    </div>
)}

<form action="/api/inscription" method="POST">
    <div>
        <label for="name">Nom:</label>
        <input type="text" id="name" name="name" required>
    </div>
    <br>
    
    <div>
        <label for="firstname">Prénom:</label>
        <input type="text" id="firstname" name="firstname" required>
    </div>
    <br>
    
    <div>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
    </div>
    <br>
    
    <div>
        <label for="password">Mot de passe:</label>
        <input type="password" id="password" name="password" required>
    </div>
    <br>
    
    <button type="submit">S'inscrire</button>
</form>

<Footer/>